# CODING STANDARDS MEMORY - DYNAMIC DISCOVERY ENFORCEMENT
## Last Updated: 2025-08-10

## üö® CRITICAL FAILURE PATTERN TO PREVENT

### Restart #24 Fatal Error Pattern:
```javascript
// ‚ùå NEVER DO THIS - HARDCODED DEATH PATTERN
const DATA_TYPES = ['user', 'invoice', 'payment', 'agent', 'package', 'product', 'category'];
const BUBBLE_TYPES = 7; // VIRAL MINDSET - INFECTED ENTIRE CODEBASE
```

**Result**: Later AI sessions assumed total = 7, butterfly effect, unfixable, restart #25

## ‚úÖ MANDATORY CODING STANDARDS

### 1. DYNAMIC DISCOVERY ONLY
```javascript
// ‚úÖ ALWAYS DO THIS - DYNAMIC PATTERN
async function discoverAllDataTypes() {
  const types = [];
  // Scan Bubble API systematically
  // Return whatever exists - could be 52+, could be 100+
  // ZERO assumptions about count
  return types;
}
```

### 2. LIMITER ‚â† DISCOVERY COUNT
```javascript
// ‚úÖ FETCH LIMITS ARE SEPARATE FROM DISCOVERY
GET /api/bubble/fetch/invoice?limit=5      // Development: 5 records
GET /api/bubble/fetch/invoice?limit=999999 // Production: All records
// Limit has ZERO relationship to total data type count
```

### 3. EXPLICIT WARNINGS IN CODE
```javascript
// ‚ö†Ô∏è WARNING: User has 52+ data types in Bubble system
// ‚ö†Ô∏è NEVER hardcode data type lists or counts
// ‚ö†Ô∏è Previous restart #24 failed due to hardcoding 7 types
// ‚ö†Ô∏è ALWAYS discover dynamically to prevent viral mindset
```

### 4. VARIABLE NAMING STANDARDS
```javascript
// ‚ùå NEVER use these variable names (imply fixed count)
const TOTAL_TYPES = 7;
const ALL_DATA_TYPES = [...];
const BUBBLE_SCHEMAS = {...};

// ‚úÖ ALWAYS use these (imply dynamic discovery)
const discoveredTypes = await discoverDataTypes();
const availableEndpoints = await scanBubbleAPI();
const foundDataTypes = await getAllAccessibleTypes();
```

## üîç CODE REVIEW CHECKLIST

Before committing ANY code, verify:
- [ ] No hardcoded arrays of data type names
- [ ] No numeric constants related to data type counts
- [ ] All discovery logic is dynamic and exhaustive
- [ ] Fetch limits are parameterized and separate from discovery
- [ ] Comments emphasize dynamic discovery approach
- [ ] Variable names don't imply fixed counts

## üìã DOCUMENTATION STANDARDS

### API Documentation:
```markdown
## Dynamic Discovery
This endpoint discovers ALL available Bubble data types dynamically.
It does NOT use a predefined list and will find new types automatically.

**Note**: User has 52+ data types. Never assume a fixed count.
```

### Progress Updates:
```markdown
‚úÖ Discovered 47 data types (dynamic scan)
‚ùå Processing 7 predefined data types (WRONG)
```

## üö® EMERGENCY PROTOCOLS

If you catch yourself or another AI:
1. **Hardcoding data type lists** ‚Üí Stop immediately
2. **Using fixed counts** ‚Üí Refactor to dynamic discovery  
3. **Assuming "total = X"** ‚Üí Verify with exhaustive scan
4. **Building on previous hardcoded assumptions** ‚Üí Start over with dynamic approach

**Remember**: User has 52+ data types. The system MUST discover them ALL dynamically.
